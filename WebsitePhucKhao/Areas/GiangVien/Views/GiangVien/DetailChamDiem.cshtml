@model WebsitePhucKhao.ViewModels.ChamDiemViewModel

@{
    ViewData["Title"] = "Chi tiết chấm điểm";
}

<h2>Chi tiết đơn phúc khảo</h2>

<table class="table table-bordered">
    <tr>
        <th>Mã đơn</th>
        <td>@Model.MaDon</td>
    </tr>
    <tr>
        <th>Sinh viên</th>
        <td>@Model.TenSinhVien</td>
    </tr>
    <tr>
        <th>Môn học</th>
        <td>@Model.TenMonHoc</td>
    </tr>
    <tr>
        <th>Điểm trước phúc khảo</th>
        <td>@Model.DiemTruocPhucKhao</td>
    </tr>
    <tr>
        <th>Điểm mong muốn</th>
        <td>@Model.DiemMongMuon</td>
    </tr>
    <tr>
        <th>Điểm sau phúc khảo</th>
        <td>@Model.DiemSauPhucKhao</td>
    </tr>
    <tr>
        <th>Nhận xét giảng viên</th>
        <td>@Model.NhanXet</td>
    </tr>
</table>


<h4>Bài giải tay của giảng viên</h4>
@if (!string.IsNullOrEmpty(Model.BaiGiaiTayUrl))
{
    <div class="mt-2">
        @if (Model.BaiGiaiTayUrl.EndsWith(".pdf"))
        {
            <iframe src="@Model.BaiGiaiTayUrl" width="100%" height="500px" style="border: 1px solid #ccc;"></iframe>
        }
        else
        {
            <img src="@Model.BaiGiaiTayUrl" class="img-fluid rounded border" style="max-width: 600px;" />
        }

        <p class="mt-2">
            <a href="@Model.BaiGiaiTayUrl" class="btn btn-outline-primary btn-sm" download>Tải bài giải tay</a>
        </p>
    </div>
}
else
{
    <p class="text-muted">Chưa có bài giải tay được đính kèm.</p>
}
<h4>Ảnh bài thi</h4>
<div class="row">
    @if (Model.DanhSachAnh != null && Model.DanhSachAnh.Any())
    {
        foreach (var anh in Model.DanhSachAnh)
        {
            <div class="col-md-4 mb-3">
                <img src="@anh.DuongDanFile" class="img-thumbnail" style="max-height: 300px;" />
            </div>
        }
    }
    else
    {
        <p class="text-muted">Chưa có ảnh bài thi.</p>
    }

</div>


<a asp-action="PhucKhaoDuocPhanCong" class="btn btn-secondary mt-3">← Quay lại danh sách</a>
