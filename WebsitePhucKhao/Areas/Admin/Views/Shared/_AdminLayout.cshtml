<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
	<link rel="stylesheet" href="~/css/admin.css">
	<link rel="stylesheet" href="~/css/admin/notification.css">
	<title>Trang chủ - Quản trị viên</title>
	@await RenderSectionAsync("Styles", required: false)
</head>
<body>
	<!-- SIDEBAR -->
	<section id="sidebar">
		<a class="brand"><i class='bx bxs-graduation icon'></i>Admin</a>
		<ul class="side-menu">
			<li><a href="@Url.Action("Index", "Dashboard", new { area = "Admin" })" class="lazy-load"><i class='bx bxs-dashboard icon'></i> Dashboard</a></li>
			<li class="divider" data-text="Quản lý người dùng">Quản lý người dùng</li>
			<li>
				<a href="#" class="dropdown-toggle"><i class='bx bxs-user-detail icon'></i> Người dùng <i class='bx bx-chevron-right icon-right'></i></a>
				<ul class="side-dropdown">
					<li><a href="@Url.Action("Index", "GiangVien", new { area = "Admin" })" class="lazy-load"><i class='bx bxs-user-detail icon'></i> Giảng viên</a></li>
					<li><a href="@Url.Action("Index", "NhanVienPhongDaoTao", new { area = "Admin" })" class="lazy-load"><i class='bx bxs-user-detail icon'></i> Nhân viên phòng đào tạo</a></li>
					<li><a href="@Url.Action("Index", "SinhVien", new { area = "Admin" })" class="lazy-load"><i class='bx bxs-user-detail icon'></i> Sinh viên</a></li>
				</ul>
			</li>
			<li class="divider" data-text="Quản lý dữ liệu">Quản lý dữ liệu</li>
			<li>
				<a href="#" class="dropdown-toggle"><i class='bx bxs-school icon'></i> Thông tin cơ bản <i class='bx bx-chevron-right icon-right'></i></a>
				<ul class="side-dropdown">
					<li><a href="@Url.Action("Index", "Khoa", new { area = "" })" class="lazy-load">Khoa</a></li>
					<li><a href="@Url.Action("Index", "Lop", new { area = "" })" class="lazy-load">Lớp</a></li>
					<li><a href="@Url.Action("Index", "ChuyenNganh", new { area = "" })" class="lazy-load">Chuyên ngành</a></li>
				</ul>
			</li>
			<li>
				<a href="#" class="dropdown-toggle"><i class='bx bxs-calendar icon'></i> Thời gian <i class='bx bx-chevron-right icon-right'></i></a>
				<ul class="side-dropdown">
					<li><a href="@Url.Action("Index", "NamHoc", new { area = "" })" class="lazy-load">Năm học</a></li>
					<li><a href="@Url.Action("Index", "HocKy", new { area = "Admin" })" class="lazy-load">Học kỳ</a></li>
				</ul>
			</li>
			<li>
				<a href="#" class="dropdown-toggle"><i class='bx bxs-book-open icon'></i> Môn học <i class='bx bx-chevron-right icon-right'></i></a>
				<ul class="side-dropdown">
					<li><a href="@Url.Action("Index", "MonHoc", new { area = "" })" class="lazy-load">Danh sách môn học</a></li>
				</ul>
			</li>
			<li class="divider" data-text="Quản lý phúc khảo">Quản lý phúc khảo</li>
			<li>
				<a href="#" class="dropdown-toggle"><i class='bx bxs-file-doc icon'></i> Đơn phúc khảo <i class='bx bx-chevron-right icon-right'></i></a>
				<ul class="side-dropdown">
					<li><a href="@Url.Action("DanhSachChoDuyet", "DonPhucKhao", new { area = "Admin" })" class="lazy-load"><i class='bx bxs-bell icon'></i> Đơn chờ duyệt</a></li>
					<li><a href="@Url.Action("Index", "DonPhucKhao", new { area = "Admin" })" class="lazy-load">Danh sách đơn</a></li>
				</ul>
			</li>
			<li class="divider" data-text="Cài đặt">Cài đặt</li>
			<li><a href="@Url.Action("Index", "Settings", new { area = "Admin" })" class="lazy-load"><i class='bx bxs-cog icon'></i> Cài đặt hệ thống</a></li>
		</ul>
	</section>
	<!-- SIDEBAR -->
	<!-- NAVBAR -->
	<section id="content">
		<!-- NAVBAR -->
		<nav>
			<i class='bx bx-menu toggle-sidebar'></i>
			<a href="#" class="nav-link" style="margin-left: auto;">
				<div class="navbar-nav">
					<div class="nav-item dropdown">
						<a class="nav-link dropdown-toggle position-relative" href="javascript:void(0)" id="notificationDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
							<i class="bi bi-bell-fill"></i>
							<span class="notification-badge" id="notificationCount">0</span>
						</a>
						<div class="dropdown-menu dropdown-menu-end notification-dropdown" aria-labelledby="notificationDropdown">
							<div class="dropdown-header">
								<h6 class="mb-0">Thông báo mới</h6>
								<a href="@Url.Action("DanhSachChoDuyet", "DonPhucKhao", new { area = "Admin" })" class="text-primary" onclick="event.preventDefault(); window.location.href=this.href;">Xem tất cả</a>
							</div>
							<div class="dropdown-divider"></div>
							<div id="notificationList" class="notification-list">
								<!-- Thông báo sẽ được thêm vào đây -->
							</div>
						</div>
					</div>
				</div>
			</a>
			<span class="divider"></span>
			<div class="profile">
				<img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8cGVvcGxlfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="">
				<ul class="profile-link">
					<li><a href="#"><i class='bx bxs-user-circle icon'></i> Thông tin cá nhân</a></li>
					<li><a href="#"><i class='bx bxs-cog'></i> Cài đặt</a></li>
					<li>
						<form class="form-inline" id="logoutForm" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="/" method="post">
							@Html.AntiForgeryToken()
							<a href="javascript:void(0)" onclick="document.getElementById('logoutForm').submit()">
								<i class='bx bxs-log-out-circle'></i> Đăng xuất
							</a>
						</form>
					</li>
				</ul>
			</div>
		</nav>
		<!-- NAVBAR -->
		<!-- MAIN -->
		<div class="content-wrapper page-content">
			<div id="main-content">
				@RenderBody()
			</div>
		</div>
		<!-- MAIN -->
	</section>
	<!-- NAVBAR -->

	<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="~/js/admin.js"></script>
	<script src="~/js/lazy-loading.js"></script>
	<script>
		// Khai báo các URL cần thiết
		const notificationUrls = {
			getNotifications: '@Url.Action("GetNewNotifications", "DonPhucKhao", new { area = "Admin" })',
			chiTietPhucKhao: '@Url.Action("ChiTietPhucKhao", "DonPhucKhao", new { area = "Admin" })'
		};
	</script>
	<script src="~/js/admin/notification.js"></script>
	@await RenderSectionAsync("Scripts", required: false)
</body>
</html>